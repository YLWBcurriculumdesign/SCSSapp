<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理员</title>

    <!--可无视-->
    <link rel="stylesheet" type="text/css" href="../public/css/default.css" />
    <link rel="stylesheet" type="text/css" href="../public/css/main.css">
    <!--必要样式-->
    <link rel="stylesheet" type="text/css" href="../public/css/styles.css" />

    <style type="text/css">
        body {
            width: 100%;
            height: 100%;
        }

        .slideout-menu {
            position: fixed;
            left: 0;
            top: 0;
            bottom: 0;
            right: 0;
            z-index: 0;
            width: 256px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            display: none;
        }

        .slideout-panel {
            position: relative;
            z-index: 1;
        }

        .slideout-open,
        .slideout-open body,
        .slideout-open .slideout-panel {
            overflow: hidden;
        }

        .slideout-open .slideout-menu {
            display: block;
        }
    </style>

</head>

<body>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <nav id="menu" class="menu">
        <header class="menu-header">
            <span id="user_name" class="menu-header-title"></span>
        </header>
        </a>
        <section class="menu-section">
            <h3 class="menu-section-title">教师管理</h3>
            <ul class="menu-section-list">
                <li><a href="admin.html">教师名单</a></li>
                <li><a style="color: #2fa0ec" href="admin_addT.html">添加教师信息</a></li>
                <li><a href="admin_delete_tea.html">删除教师信息</a></li>
                <li><a href="#">修改教师信息</a></li>
            </ul>
        </section>

        <section class="menu-section">
            <h3 class="menu-section-title">学生管理</h3>
            <ul class="menu-section-list">
                <li><a href="#">学生名单</a></li>
                <li><a href="admin_addS.html">添加学生信息</a></li>
                <li><a href="admin_delete_stu.html">删除学生信息</a></li>
                <li><a href="#">修改学生信息</a></li>
            </ul>
        </section>

        <section class="menu-section">
            <h3 class="menu-section-title">课程管理</h3>
            <ul class="menu-section-list">
                <li><a href="admin_course.html">课程列表</a></li>
                <li><a href="admin_addC.html">添加课程信息</a></li>
                <li><a href="admin_delete_course.html">删除课程信息</a></li>
                <li><a href="#">修改课程信息</a></li>
            </ul>
        </section>

        <section class="menu-section">
            <h3 class="menu-section-title">退出系统</h3>
            <ul class="menu-section-list">
                <li><a href="index.html">退出</a></li>
            </ul>
        </section>
    </nav>
    <script>
        var storage = window.sessionStorage;
        var usersname = storage.getItem("username");
        document.getElementById("user_name").innerHTML = "欢迎用户" + usersname;
    </script>
    <main id="main" class="panel">
        <button class="btn-hamburger js-slideout-toggle">
            <span class="tooltip">点击打开</span>
        </button>

        <div class="main">
            <br>
            <br>
            <div
                style="text-align:center;margin:0 auto;background: white;width: 300px;height: 400px;border-radius: 20px">
                <p style="font-size: 20px;color: #2e6da4;margin-bottom: 50px">添加教师信息：</p>
                <!-- <p style="font-size: 15px;margin-top: -30px;color:red;">(您被限制修改自己的工号！！)</p> -->

                <ul style="list-style: none">
                    <li class="data_li">
                        <label for="">工号：</label>
                        <input type="text" name="tnumber" id="tnumber">
                    </li>
                    <li class="data_li">
                        <label for="">姓名：</label>
                        <input type="text" name="tname" id="tname">
                    </li>
                    <li class="data_li">
                        <label for="">密码：</label>
                        <input type="text" name="tpwd" id="tpwd">
                    </li>
                    <li class="data_li">
                        <label for="">性别：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                        <input type="radio" name="sex"
                            value="男">&nbsp;&nbsp;&nbsp;&nbsp;男&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="radio" name="sex"
                            value="女">&nbsp;&nbsp;&nbsp;&nbsp;女&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    </li>
                    <li class="data_li">
                        <label for="">简介：</label>
                        <textarea style="height: 80px; width: 200px;" type="text" name="tintroduction"
                            id="tintroduction"> </textarea>
                    </li>
                    <li style="margin-top: 45px;margin-left: 175px">
                        <input
                            style="width:60px;height:35px;background-color: blueviolet; border-radius:3px;border: #afd9ee 1px solid "
                            id="btn" onclick="addT()" type="button" value="添加">
                    </li>
                </ul>
            </div>
        </div>
        <script type="text/javascript">
            function addT() {
                // alert("执行");
                var tnumber = document.getElementById("tnumber").value;
                // alert("执行");
                var tname = document.getElementById("tname").value;
                // alert("执行");
                var tpwd = document.getElementById("tpwd").value;
                // alert("执行");
                var tsex = document.getElementsByName("sex");
                if (tsex != null) {
                    for (i = 0; i < tsex.length; i++) {
                        if (tsex[i].checked) {
                            tsex = tsex[i].value;
                        }
                    }
                }
                // alert("执行2");
                var tintroduction = document.getElementById("tintroduction").value;
                var data = { "tnumber": tnumber, "tname": tname, "tpwd": tpwd, "tsex": tsex, "tintroduction": tintroduction };
                // alert("执行3");
                $.ajax({
                    url: 'http://localhost:3030/addT',
                    type: 'POST',
                    data: data,
                    success: function (data) {  // data是服务器向客户端返回的数据info
                        if (data == "1") {
                            alert("添加成功")
                        } else if (data == "-2") {
                            alert("学号重复，请您重新输入！")
                        } else {
                            alert("添加失败")
                        }
                    }
                });
            }
        </script>
    </main>
    <script language="JavaScript">
        //登录脚本
        var username = window.sessionStorage.getItem("username");

        if (username == null) {
            alert("没有登录");
            location.href = 'index.html'
        }
    </script>

    <script type="text/javascript" src="../public/js/slideout.min.js"></script>
    <script type="text/javascript">
        var slideout = new Slideout({
            'panel': document.getElementById('main'),
            'menu': document.getElementById('menu'),
            'padding': 256,
            'tolerance': 70
        });

        document.querySelector('.js-slideout-toggle').addEventListener('click', function () {
            slideout.toggle();
        });

        document.querySelector('.menu').addEventListener('click', function (eve) {
            if (eve.target.nodeName === 'A') { slideout.close(); }
        });
        function aload(t) { "use strict"; t = t || window.document.querySelectorAll("[data-aload]"), void 0 === t.length && (t = [t]); var a, e = 0, r = t.length; for (e; r > e; e += 1)a = t[e], a["LINK" !== a.tagName ? "src" : "href"] = a.getAttribute("data-aload"), a.removeAttribute("data-aload"); return t }
        window.onload = function () {
            aload();
            document.querySelector('.iphone').className += ' shown';
        }
    </script>

</body>

</html>